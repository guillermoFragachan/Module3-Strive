<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">

    <title>Homework CRUD</title>
</head>

<body>

    <nav class="navbar d-flex navbar-expand-lg navbar-light bg-light">
      
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="navbar-brand" href="./index.html">Display</a>
            </li>
            <li class="nav-item">
                <a class="navbar-brand" href="./backoffice.html">Form</a>
            </li>
            
          </ul>
     
    
       
        
      </nav>
   
    <h1>Homework CRUD - Products Available</h1>

    <div class="container-fluid">
        <div class="row">


        </div>
    </div>






    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
        crossorigin="anonymous"></script>
    <script>

        function createElement(_data) {
            let rowNode = document.getElementsByClassName('row')[0]
            let elementNode = document.createElement('div')
            elementNode.classList.add('col-4')
            elementNode.innerHTML = `
            
                <div class="bg-light me-md-3 pt-3 px-3 pt-md-5 px-md-5 text-center overflow-hidden">
                    <div class="my-3 p-3">
                      <h2 class="display-5">${_data.name}</h2>
                    
                      <p class="lead">${_data.description}</p>
                      <p class="lead">${_data.brand}</p>
                      <p class="lead">${_data.price}</p>
         
                    </div>
                    <div class="bg-body shadow-sm mx-auto" style="width: 80%; height: 300px; border-radius: 21px 21px 0 0;">
                        <img src="${_data.imageUrl}" class="img-fluid">
                        
                        </div>
                  </div>
            
            `
            rowNode.appendChild(elementNode)


        }


      

        function getData() {
            fetch("https://striveschool-api.herokuapp.com/api/product/", {
                headers: {
                    "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTRiMWM5NDRiYjUzZDAwMTViMTllY2MiLCJpYXQiOjE2MzIzMTI0NjgsImV4cCI6MTYzMzUyMjA2OH0.MQK0IkMzaMTAcVrbR7hSi-OZAYCwk35tUrtFVQOG3jc"
                }
            }).then(response => { return response.json() })
                .then(data => {

                    data.forEach(element => {
                        createElement(element)
                    });




                })

        }









        window.onload = function () {
            getData()
        }






    </script>

</body>

</html>